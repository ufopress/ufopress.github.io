<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generar Catálogo PDF</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <button id="generatePDF">Generar Catálogo PDF</button>

    <script>
        document.getElementById('generatePDF').addEventListener('click', async () => {
            // Simulación de la obtención de datos de la base de datos
            const empresa = {
                nombre: "Mi Empresa",
                email: "info@miempresa.com",
                rubro: "Editorial",
                logo: "./front/img/LogoComicVerse.png" // Cambia esta ruta por la correcta
            };

            const historietas = [
                {
                    ISBN: "123456789",
                    nombre: "Historieta 1",
                    imagen: "./front/img/LogoComicVerse.png", // Cambia esta ruta por la correcta
                    editorial: "Editorial A",
                    autores: "Autor 1",
                    paginas: 50,
                    contenido: "Descripción de la historieta 1.",
                    precio: 10.99
                },
                // Agrega más historietas aquí
            ];

            // Crear el PDF
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF();

            // Añadir logo
            const logoImg = new Image();
            logoImg.src = empresa.logo; // Cambia esta ruta por la correcta
            logoImg.onload = function() {
                pdf.addImage(logoImg, 'PNG', 10, 10, 30, 30); // Ajusta las coordenadas y tamaño

                // Información de la empresa
                pdf.setFont("Arial", "bold");
                pdf.text(empresa.nombre, 50, 20);
                pdf.setFont("Arial", "normal");
                pdf.text(empresa.email, 50, 30);
                pdf.text(empresa.rubro, 50, 40);
                pdf.text("Catálogo de Historietas", 10, 60);

                // Detalle de historietas
                let startY = 70;
                historietas.forEach(h => {
                    pdf.text(`Nombre: ${h.nombre} - ISBN: ${h.ISBN}`, 10, startY);
                    startY += 10;
                });

                // Guardar el PDF
                pdf.save("catalogo_historietas.pdf");
            };
        });
    </script>
</body>
</html>
